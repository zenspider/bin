#!/usr/bin/env ruby -w

pattern = ARGV.shift
pattern = "(#{pattern})" unless pattern =~ /\(.+\)/

ARGF.each_line do |line|
  line.lines.grep(/#{pattern}/) { puts $1 }
end
